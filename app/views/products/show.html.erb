<div class="container mt-4">
  <h2><%= @product.name %></h2>
  <p><%= @product.description %></p>
  <p><strong>Price:</strong> $<%= @product.price %></p>
  <p><strong>Stock:</strong> <%= @product.stock %></p>

  <% if current_user&.buyer? %>
    <%= form_with url: orders_path, local: true do |form| %>
      <div class="mb-3">
        <%= form.hidden_field :product_id, value: @product.id %>
        <%= form.label :quantity %>
        <%= form.number_field :quantity, value: 1, min: 1, max: @product.stock, class: "form-control" %>
      </div>
      <%= form.submit "Order", class: "btn btn-custom" %>
    <% end %>
  <% end %>

  <% if current_user&.seller? && @product.seller == current_user %>
    <%= link_to 'Edit', edit_product_path(@product), class: 'btn btn-custom' %>
    <%= link_to 'Delete', product_path(@product), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
  <% end %>
</div>
